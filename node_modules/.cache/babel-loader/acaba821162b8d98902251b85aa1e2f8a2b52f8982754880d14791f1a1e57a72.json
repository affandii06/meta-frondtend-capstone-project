{"ast":null,"code":"import { currentDateTime, fetchAPI, generateBookingID } from '../utilities';\nexport const STAGES = ['Reservation Details', 'Thank You'];\nexport const OCCASIONS_LIST = [{\n  id: 1,\n  label: 'Birthday',\n  value: 'birthday'\n}, {\n  id: 2,\n  label: 'Anniversary',\n  value: 'anniversary'\n}, {\n  id: 3,\n  label: 'Engagement',\n  value: 'engagement'\n}];\nexport const loadInitialState = () => ({\n  availableTimes: fetchAPI(new Date()),\n  // initializeTimes as per Instructions\n  formData: {\n    firstName: '',\n    lastName: '',\n    bookingDate: currentDateTime(1).date,\n    bookingTime: '17:00',\n    guests: 1,\n    occasion: ''\n  },\n  formErrors: {\n    firstName: '',\n    lastName: '',\n    bookingDate: '',\n    bookingTime: '',\n    guests: '',\n    occasion: ''\n  },\n  isDirty: {\n    firstName: false,\n    lastName: false,\n    bookingDate: false,\n    bookingTime: false,\n    guests: false,\n    occasion: false\n  },\n  stage: STAGES[0],\n  occasions_list: OCCASIONS_LIST,\n  booking_id: generateBookingID()\n});\nconst updateTimes = (state, payload) => ({\n  ...state,\n  availableTimes: fetchAPI(payload)\n});\nexport const bookingFormReducer = (state, _ref) => {\n  let {\n    type,\n    payload\n  } = _ref;\n  switch (type) {\n    case 'setAvailableTimes':\n      return updateTimes(state, payload);\n    case 'setFormData':\n      return {\n        ...state,\n        formData: {\n          ...state.formData,\n          ...payload\n        }\n      };\n    case 'setIsDirty':\n      return {\n        ...state,\n        isDirty: {\n          ...state.isDirty,\n          ...payload\n        }\n      };\n    case 'setFormErrors':\n      return {\n        ...state,\n        formErrors: {\n          ...state.formErrors,\n          ...payload\n        }\n      };\n    case 'setStage':\n      return {\n        ...state,\n        stage: payload\n      };\n    case 'reset':\n      {\n        return {\n          ...loadInitialState()\n        };\n      }\n    default:\n      break;\n  }\n};","map":{"version":3,"names":["currentDateTime","fetchAPI","generateBookingID","STAGES","OCCASIONS_LIST","id","label","value","loadInitialState","availableTimes","Date","formData","firstName","lastName","bookingDate","date","bookingTime","guests","occasion","formErrors","isDirty","stage","occasions_list","booking_id","updateTimes","state","payload","bookingFormReducer","type"],"sources":["/Users/mplussoftware/Public/coursera/meta-frondtend-capstone-project/src/actions/bookingFormReducer.js"],"sourcesContent":["import { currentDateTime, fetchAPI, generateBookingID } from '../utilities';\n\nexport const STAGES = ['Reservation Details', 'Thank You'];\nexport const OCCASIONS_LIST = [\n  {\n    id: 1,\n    label: 'Birthday',\n    value: 'birthday',\n  },\n  {\n    id: 2,\n    label: 'Anniversary',\n    value: 'anniversary',\n  },\n  {\n    id: 3,\n    label: 'Engagement',\n    value: 'engagement',\n  },\n];\n\nexport const loadInitialState = () => ({\n  availableTimes: fetchAPI(new Date()), // initializeTimes as per Instructions\n  formData: {\n    firstName: '',\n    lastName: '',\n    bookingDate: currentDateTime(1).date,\n    bookingTime: '17:00',\n    guests: 1,\n    occasion: '',\n  },\n  formErrors: {\n    firstName: '',\n    lastName: '',\n    bookingDate: '',\n    bookingTime: '',\n    guests: '',\n    occasion: '',\n  },\n  isDirty: {\n    firstName: false,\n    lastName: false,\n    bookingDate: false,\n    bookingTime: false,\n    guests: false,\n    occasion: false,\n  },\n  stage: STAGES[0],\n  occasions_list: OCCASIONS_LIST,\n  booking_id: generateBookingID(),\n});\n\nconst updateTimes = (state, payload) => ({\n  ...state,\n  availableTimes: fetchAPI(payload),\n});\n\nexport const bookingFormReducer = (state, { type, payload }) => {\n  switch (type) {\n    case 'setAvailableTimes':\n      return updateTimes(state, payload);\n    case 'setFormData':\n      return {\n        ...state,\n        formData: { ...state.formData, ...payload },\n      };\n    case 'setIsDirty':\n      return {\n        ...state,\n        isDirty: { ...state.isDirty, ...payload },\n      };\n    case 'setFormErrors':\n      return {\n        ...state,\n        formErrors: { ...state.formErrors, ...payload },\n      };\n    case 'setStage':\n      return { ...state, stage: payload };\n    case 'reset': {\n      return { ...loadInitialState() };\n    }\n    default:\n      break;\n  }\n};\n"],"mappings":"AAAA,SAASA,eAAe,EAAEC,QAAQ,EAAEC,iBAAiB,QAAQ,cAAc;AAE3E,OAAO,MAAMC,MAAM,GAAG,CAAC,qBAAqB,EAAE,WAAW,CAAC;AAC1D,OAAO,MAAMC,cAAc,GAAG,CAC5B;EACEC,EAAE,EAAE,CAAC;EACLC,KAAK,EAAE,UAAU;EACjBC,KAAK,EAAE;AACT,CAAC,EACD;EACEF,EAAE,EAAE,CAAC;EACLC,KAAK,EAAE,aAAa;EACpBC,KAAK,EAAE;AACT,CAAC,EACD;EACEF,EAAE,EAAE,CAAC;EACLC,KAAK,EAAE,YAAY;EACnBC,KAAK,EAAE;AACT,CAAC,CACF;AAED,OAAO,MAAMC,gBAAgB,GAAG,OAAO;EACrCC,cAAc,EAAER,QAAQ,CAAC,IAAIS,IAAI,EAAE,CAAC;EAAE;EACtCC,QAAQ,EAAE;IACRC,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAEd,eAAe,CAAC,CAAC,CAAC,CAACe,IAAI;IACpCC,WAAW,EAAE,OAAO;IACpBC,MAAM,EAAE,CAAC;IACTC,QAAQ,EAAE;EACZ,CAAC;EACDC,UAAU,EAAE;IACVP,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,EAAE;IACfE,WAAW,EAAE,EAAE;IACfC,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE;EACZ,CAAC;EACDE,OAAO,EAAE;IACPR,SAAS,EAAE,KAAK;IAChBC,QAAQ,EAAE,KAAK;IACfC,WAAW,EAAE,KAAK;IAClBE,WAAW,EAAE,KAAK;IAClBC,MAAM,EAAE,KAAK;IACbC,QAAQ,EAAE;EACZ,CAAC;EACDG,KAAK,EAAElB,MAAM,CAAC,CAAC,CAAC;EAChBmB,cAAc,EAAElB,cAAc;EAC9BmB,UAAU,EAAErB,iBAAiB;AAC/B,CAAC,CAAC;AAEF,MAAMsB,WAAW,GAAG,CAACC,KAAK,EAAEC,OAAO,MAAM;EACvC,GAAGD,KAAK;EACRhB,cAAc,EAAER,QAAQ,CAACyB,OAAO;AAClC,CAAC,CAAC;AAEF,OAAO,MAAMC,kBAAkB,GAAG,CAACF,KAAK,WAAwB;EAAA,IAAtB;IAAEG,IAAI;IAAEF;EAAQ,CAAC;EACzD,QAAQE,IAAI;IACV,KAAK,mBAAmB;MACtB,OAAOJ,WAAW,CAACC,KAAK,EAAEC,OAAO,CAAC;IACpC,KAAK,aAAa;MAChB,OAAO;QACL,GAAGD,KAAK;QACRd,QAAQ,EAAE;UAAE,GAAGc,KAAK,CAACd,QAAQ;UAAE,GAAGe;QAAQ;MAC5C,CAAC;IACH,KAAK,YAAY;MACf,OAAO;QACL,GAAGD,KAAK;QACRL,OAAO,EAAE;UAAE,GAAGK,KAAK,CAACL,OAAO;UAAE,GAAGM;QAAQ;MAC1C,CAAC;IACH,KAAK,eAAe;MAClB,OAAO;QACL,GAAGD,KAAK;QACRN,UAAU,EAAE;UAAE,GAAGM,KAAK,CAACN,UAAU;UAAE,GAAGO;QAAQ;MAChD,CAAC;IACH,KAAK,UAAU;MACb,OAAO;QAAE,GAAGD,KAAK;QAAEJ,KAAK,EAAEK;MAAQ,CAAC;IACrC,KAAK,OAAO;MAAE;QACZ,OAAO;UAAE,GAAGlB,gBAAgB;QAAG,CAAC;MAClC;IACA;MACE;EAAM;AAEZ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}